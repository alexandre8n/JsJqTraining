<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
 <head>
	  <meta http-equiv="Content-Type" content="text/html; charset="utf-8">
		<title>Find Treasure </title>
	<style>
		.mapStyle
		{
		  position:relative;
		  top: 0px;
		  left: 0px;
		  z-index: 1;
		}
		.treasureStyle
		{
		  position: absolute;
		  top: 5px;
		  left: 5px;
		  z-index: 2;
		  visibility: hidden;
		}
	  </style>
</head>
<body>
	<h1 id="heading">Find The Buried Treasure(Найди сокровище)</h1>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
	<div style="position: relative;">
		<img id="map" width=600 height=600
			src="Images/treasuremap.png"
			class="mapStyle" >
		<img id="treasureImg" width=35 height=35
			src="Images/treasure2.png"
			class="treasureStyle" >
	</div>
	<p id="distance">just line</p>
	<script src="jsFiles/Functions.js" type="text/javascript"></script>
	<a href="javascript:setImageVisible('treasureImg', true)">show</a>
	<a href="javascript:setImageVisible('treasureImg', false)">hide</a>
	<a href="javascript:restartGame()">Restart</a>
	<script>
		var clicks = 0;
		$("#distance").text("Just click on the map. Observe the hint");
		$("#map").click(function (event){
			clicks++;
			var distance =  getDistance(event, target);
			var distanceHint = getDistanceHint(distance);
			if(distance < 8){
				setImageVisible("treasureImg", true);
				var msg = "Found the treasure in " + clicks + " clicks!"
				$("#distance").text(msg);
				//alert(msg);
			}
			else {
				$("#distance").text(distanceHint);
			}
		}
		);
		var x = setUpImageInfo();

		var img = document.getElementById("map");
		var width = mapImageInfo.width;
		var height = mapImageInfo.height;
		var target = {
			x: getRandomNumber(width), 
			y: getRandomNumber(height)
		};
		$("#distance").text("Just click on the map. Hint: Target " + target.x + " " + target.y);
	</script>
</body>
</html>

<!-- Write your comments here 
	<a href="javascript:setImageVisible('myImageId', false)">hide treasure</a>
$('#move-me').css({
   left: x-coord,
   top: y-coord
}).show();

	$("#divID img").each(function() {
    var $overlay = $('<div></div>');
    $overlay.css({
        position: "relative",
        display: "inline-block",
        width: $(this).width(),
        height: $(this).height(),
        backgroundPosition: "center center",
        backgroundImage: "url(loading-image.gif)"
    });
    $(this).wrap($overlay);
	});

	   //"http://nostarch.com/Images/treasuremap.png"
		var moveSpeed = 100;
		var clickCountMax = 10;
		var maxOffset = 300;
		var leftOffset = 0;
		var topOffset = 0;
		var direction = 0; // 0 right, 1 - down, 2 - left, 3 - up
		var clickNumber = 0;
		var headText0 = "Hello world";
		var moveHeading = function () {
			$("#heading").offset({left: leftOffset, top: topOffset});
			if(direction == 0) {
				if(leftOffset >= maxOffset){
					direction = 1;
					topOffset++;
					return;
				}
				else{
					leftOffset++;
					return;
				}
			}
			if(direction == 1) {
				if(topOffset >= maxOffset){
					direction = 2;
					leftOffset--;
					return;
				}
				else{
					topOffset++;
					return;
				}
			}
			if(direction == 2) {
				if(leftOffset <= 0){
					direction = 3;
					topOffset--;
					return;
				}
				else{
					leftOffset--;
					return;
				}
			}
			if(direction == 3) {
				if(topOffset <= 0){
					direction = 0;
					leftOffset++;
					return;
				}
				else{
					topOffset--;
					return;
				}
			}
			
		};
		var lastClick = {x: 0, y: 0};
		var clickHandler = function (event) {
				lastClick.x = event.pageX;
				lastClick.y = event.pageY;
				//$("#heading").offset({left: leftOffset, top: topOffset});
				clickNumber++;
				$("#heading").text(headText0 + " Your score:" + clickNumber);
				clearInterval(intervalId);
				if(moveSpeed > 2){
					moveSpeed /= 2;
				}
				if(clickNumber >= clickCountMax){
					$("#heading").text("You Win!! Score: " + clickNumber);
					return;
				}
				
				intervalId = setInterval(moveHeading, moveSpeed);
		};
		$("#heading").click(clickHandler);
		var intervalId = setInterval(moveHeading, moveSpeed);
	
		<div style="width: 200px; height: 1000px; position: relative;">
   <img id="image1" style="position: relative;" src="..." alt="..." />
   <img id="image2" style="position: absolute; top: <y>px; left: <x>px;" src="..." alt="..." />
</div>
-->